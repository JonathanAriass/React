{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\byjon\\\\Desktop\\\\React\\\\FoodApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\byjon\\\\Desktop\\\\React\\\\FoodApp\\\\src\\\\components\\\\Layout\\\\HeaderCartButton.js\";\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport classes from \"./HeaderCartButton.module.css\";\nimport CartIcon from \"../Cart/CartIcon\";\nimport CartContext from \"../../store/cart-context\";\n\nvar HeaderCartButton = function HeaderCartButton(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      btnIsHighlighted = _useState2[0],\n      setbtnIsHighlighted = _useState2[1];\n\n  var cartCtx = useContext(CartContext);\n  var items = cartCtx.items;\n  var numberOfCartItems = items.items.reduce(function (curNumber, item) {\n    return curNumber + item.amount;\n  }, 0);\n  var btnClasses = \"\".concat(classes.button, \" \").concat(btnIsHighlighted ? classes.bump : \"\");\n  useEffect(function () {\n    if (cartCtx.items.length === 0) {\n      return;\n    }\n\n    setbtnIsHighlighted(true);\n    var timer = setTimeout(function () {\n      setbtnIsHighlighted(false);\n    }, 300); // We need to clean the timer in order to add items faster than 300ms\n\n    return function () {\n      clearTimeout(timer);\n    };\n  }, [items]);\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: btnClasses,\n    onClick: props.onClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.icon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CartIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Your Cart\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.badge,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, numberOfCartItems));\n};\n\nexport default HeaderCartButton;","map":{"version":3,"names":["React","useContext","useEffect","useState","classes","CartIcon","CartContext","HeaderCartButton","props","btnIsHighlighted","setbtnIsHighlighted","cartCtx","items","numberOfCartItems","reduce","curNumber","item","amount","btnClasses","button","bump","length","timer","setTimeout","clearTimeout","onClick","icon","badge"],"sources":["C:/Users/byjon/Desktop/React/FoodApp/src/components/Layout/HeaderCartButton.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport classes from \"./HeaderCartButton.module.css\";\r\nimport CartIcon from \"../Cart/CartIcon\";\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const [btnIsHighlighted, setbtnIsHighlighted] = useState(false);\r\n\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const { items } = cartCtx;\r\n\r\n  const numberOfCartItems = items.items.reduce((curNumber, item) => {\r\n    return curNumber + item.amount;\r\n  }, 0);\r\n\r\n  const btnClasses = `${classes.button} ${\r\n    btnIsHighlighted ? classes.bump : \"\"\r\n  }`;\r\n\r\n  useEffect(() => {\r\n    if (cartCtx.items.length === 0) {\r\n      return;\r\n    }\r\n\r\n    setbtnIsHighlighted(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setbtnIsHighlighted(false);\r\n    }, 300);\r\n\r\n    // We need to clean the timer in order to add items faster than 300ms\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  return (\r\n    <button className={btnClasses} onClick={props.onClick}>\r\n      <span className={classes.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Your Cart</span>\r\n      <span className={classes.badge}>{numberOfCartItems}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AAEA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;EAAA,gBACcL,QAAQ,CAAC,KAAD,CADtB;EAAA;EAAA,IAC3BM,gBAD2B;EAAA,IACTC,mBADS;;EAGlC,IAAMC,OAAO,GAAGV,UAAU,CAACK,WAAD,CAA1B;EAHkC,IAK1BM,KAL0B,GAKhBD,OALgB,CAK1BC,KAL0B;EAOlC,IAAMC,iBAAiB,GAAGD,KAAK,CAACA,KAAN,CAAYE,MAAZ,CAAmB,UAACC,SAAD,EAAYC,IAAZ,EAAqB;IAChE,OAAOD,SAAS,GAAGC,IAAI,CAACC,MAAxB;EACD,CAFyB,EAEvB,CAFuB,CAA1B;EAIA,IAAMC,UAAU,aAAMd,OAAO,CAACe,MAAd,cACdV,gBAAgB,GAAGL,OAAO,CAACgB,IAAX,GAAkB,EADpB,CAAhB;EAIAlB,SAAS,CAAC,YAAM;IACd,IAAIS,OAAO,CAACC,KAAR,CAAcS,MAAd,KAAyB,CAA7B,EAAgC;MAC9B;IACD;;IAEDX,mBAAmB,CAAC,IAAD,CAAnB;IAEA,IAAMY,KAAK,GAAGC,UAAU,CAAC,YAAM;MAC7Bb,mBAAmB,CAAC,KAAD,CAAnB;IACD,CAFuB,EAErB,GAFqB,CAAxB,CAPc,CAWd;;IACA,OAAO,YAAM;MACXc,YAAY,CAACF,KAAD,CAAZ;IACD,CAFD;EAGD,CAfQ,EAeN,CAACV,KAAD,CAfM,CAAT;EAiBA,oBACE;IAAQ,SAAS,EAAEM,UAAnB;IAA+B,OAAO,EAAEV,KAAK,CAACiB,OAA9C;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAM,SAAS,EAAErB,OAAO,CAACsB,IAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,QAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CADF,eAIE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAJF,eAKE;IAAM,SAAS,EAAEtB,OAAO,CAACuB,KAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAiCd,iBAAjC,CALF,CADF;AASD,CAzCD;;AA2CA,eAAeN,gBAAf"},"metadata":{},"sourceType":"module"}